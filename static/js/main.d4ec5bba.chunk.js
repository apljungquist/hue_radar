(this.webpackJsonphue_rose=this.webpackJsonphue_rose||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),s=(n(30),n(6)),i=n(19),u=n(20),h=n(21),j=n(25),l=(n(31),n(22)),d=n.n(l),b=n(40),f=n(41),O=n(24),g=n(16),m=n(42),x=n(43),p=n(23);function v(){return new Worker(n.p+"static/js/worker.0c31f24e.worker.js")}var w=n(10),y=n(4),C=function(e){var t=e.img,n=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=n.current,a=e.getContext("2d");e.width=t.width,e.height=t.height,a.putImageData(t,0,0)})),Object(y.jsx)("canvas",{ref:n})},A=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).ref=void 0,a.obj=void 0,a.ref=r.a.createRef(),a.obj=null,a}return Object(u.a)(n,[{key:"data",value:function(){var e=this.props.areas instanceof Array?this.props.areas:Array.from({length:12},(function(e,t){return t+1})),t=e.length,n=Array.from({length:t},(function(e,n){return[360*n/t,100,65]})),a=Array.from(n,(function(e,t){var n=Object(p.hsluvToRgb)(e),a=Math.round(255*n[0]),r=Math.round(255*n[1]),c=Math.round(255*n[2]);return"rgba(".concat(a,", ").concat(r,", ").concat(c,", 1)")})),r=Array.from(e,(function(e,t){return Math.sqrt(e)}));return{datasets:[{data:Array.from(r,(function(e,t){return Math.round(1e3*e)/1e3})),backgroundColor:a,borderColor:a,borderWidth:1}],labels:Array.from({length:t},(function(e,n){return Math.round(n/t*360)}))}}},{key:"componentDidUpdate",value:function(){console.log("update"),this.obj&&(this.obj.data=this.data(),this.obj.update())}},{key:"componentDidMount",value:function(){console.log("mount"),this.obj=new d.a(this.ref.current,{data:this.data(),type:"polarArea",options:{animation:{duration:0},legend:{display:!1},scale:{display:!1},maintainAspectRatio:!0,responsive:!0}})}},{key:"render",value:function(){return console.log("render"),Object(y.jsx)("canvas",{ref:this.ref})}}]),n}(r.a.Component);var M=function(){var e=Object(a.useState)("/hue_rose/mm5a7753.jpg"),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),o=Object(s.a)(c,2),i=o[0],u=o[1],h=Object(a.useState)(null),j=Object(s.a)(h,2),l=j[0],d=j[1],p=Object(a.useState)(null),M=Object(s.a)(p,2),k=M[0],I=M[1],S=Object(a.useState)(20),R=Object(s.a)(S,2),D=R[0],F=R[1];return Object(a.useEffect)((function(){(function(e){return new Promise((function(t,n){var a=new Image;a.src=e,a.onload=function(e){t(a)}}))})(n).then((function(e){var t=new v;w.b(t).processImage(function(e){var t=Math.max(1,e.width*e.height/5e5),n=Math.floor(e.width/t),a=Math.floor(e.height/t),r=document.createElement("canvas"),c=r.getContext("2d");return r.width=n,r.height=a,c.drawImage(e,0,0,r.width,r.height),c.getImageData(0,0,r.width,r.height)}(e),20,w.a(u),w.a(d),w.a(I),w.a(F))}))}),[n]),Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(b.a,{children:[Object(y.jsxs)(f.a,{className:"primary",children:[Object(y.jsx)(O.a,{children:Object(y.jsx)(g.a,{src:n,fluid:!0})}),Object(y.jsx)(O.a,{children:Object(y.jsx)(A,{areas:D})})]}),Object(y.jsx)(f.a,{className:"align-items-center",children:Object(y.jsx)(O.a,{children:Object(y.jsx)(m.a.File,{custom:!0,label:"Analyze another image",onChange:function(e){e.target.files&&e.target.files[0]&&r(URL.createObjectURL(e.target.files[0]))}})})}),Object(y.jsxs)(f.a,{className:"secondary",children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(x.a,{children:[i?Object(y.jsx)(C,{img:i}):null,Object(y.jsxs)(x.a.Caption,{children:["The ",Object(y.jsx)("b",{children:"chroma"})," is used to give more weight to some pixels than others"]})]})}),Object(y.jsx)(O.a,{children:Object(y.jsxs)(x.a,{children:[l?Object(y.jsx)(C,{img:l}):null,Object(y.jsxs)(x.a.Caption,{children:["The ",Object(y.jsx)("b",{children:"hue"})," is not always obvious from the image."]})]})}),Object(y.jsx)(O.a,{children:Object(y.jsxs)(x.a,{children:[k?Object(y.jsx)(C,{img:k}):null,Object(y.jsxs)(x.a.Caption,{children:["What the algorithm ",Object(y.jsx)("em",{children:'"sees"'}),"."]})]})})]})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(M,{})}),document.getElementById("root")),k()}},[[38,1,2]]]);
//# sourceMappingURL=main.d4ec5bba.chunk.js.map