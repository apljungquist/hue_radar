!function(t){var r={};function e(n){if(r[n])return r[n].exports;var u=r[n]={i:n,l:!1,exports:{}};return t[n].call(u.exports,u,u.exports,e),u.l=!0,u.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var u in t)e.d(n,u,function(r){return t[r]}.bind(null,u));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="/hue_rose/",e(e.s=1)}([function(t,r){var e=e||{};e.Geometry=function(){},e.Geometry.intersectLineLine=function(t,r){var e=(t.intercept-r.intercept)/(r.slope-t.slope);return{x:e,y:t.slope*e+t.intercept}},e.Geometry.distanceFromOrigin=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},e.Geometry.distanceLineFromOrigin=function(t){return Math.abs(t.intercept)/Math.sqrt(Math.pow(t.slope,2)+1)},e.Geometry.perpendicularThroughPoint=function(t,r){var e=-1/t.slope;return{slope:e,intercept:r.y-e*r.x}},e.Geometry.angleFromOrigin=function(t){return Math.atan2(t.y,t.x)},e.Geometry.normalizeAngle=function(t){var r=2*Math.PI;return(t%r+r)%r},e.Geometry.lengthOfRayUntilIntersect=function(t,r){return r.intercept/(Math.sin(t)-r.slope*Math.cos(t))},e.Hsluv=function(){},e.Hsluv.getBounds=function(t){for(var r=[],n=Math.pow(t+16,3)/1560896,u=n>e.Hsluv.epsilon?n:t/e.Hsluv.kappa,o=0;o<3;)for(var a=o++,l=e.Hsluv.m[a][0],i=e.Hsluv.m[a][1],s=e.Hsluv.m[a][2],v=0;v<2;){var c=v++,f=(284517*l-94839*s)*u,h=(838422*s+769860*i+731718*l)*t*u-769860*c*t,p=(632260*s-126452*i)*u+126452*c;r.push({slope:f/p,intercept:h/p})}return r},e.Hsluv.maxSafeChromaForL=function(t){for(var r=e.Hsluv.getBounds(t),n=1/0,u=0;u<r.length;){var o=r[u];++u;var a=e.Geometry.distanceLineFromOrigin(o);n=Math.min(n,a)}return n},e.Hsluv.maxChromaForLH=function(t,r){for(var n=r/360*Math.PI*2,u=e.Hsluv.getBounds(t),o=1/0,a=0;a<u.length;){var l=u[a];++a;var i=e.Geometry.lengthOfRayUntilIntersect(n,l);i>=0&&(o=Math.min(o,i))}return o},e.Hsluv.dotProduct=function(t,r){for(var e=0,n=0,u=t.length;n<u;){var o=n++;e+=t[o]*r[o]}return e},e.Hsluv.fromLinear=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055},e.Hsluv.toLinear=function(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},e.Hsluv.xyzToRgb=function(t){return[e.Hsluv.fromLinear(e.Hsluv.dotProduct(e.Hsluv.m[0],t)),e.Hsluv.fromLinear(e.Hsluv.dotProduct(e.Hsluv.m[1],t)),e.Hsluv.fromLinear(e.Hsluv.dotProduct(e.Hsluv.m[2],t))]},e.Hsluv.rgbToXyz=function(t){var r=[e.Hsluv.toLinear(t[0]),e.Hsluv.toLinear(t[1]),e.Hsluv.toLinear(t[2])];return[e.Hsluv.dotProduct(e.Hsluv.minv[0],r),e.Hsluv.dotProduct(e.Hsluv.minv[1],r),e.Hsluv.dotProduct(e.Hsluv.minv[2],r)]},e.Hsluv.yToL=function(t){return t<=e.Hsluv.epsilon?t/e.Hsluv.refY*e.Hsluv.kappa:116*Math.pow(t/e.Hsluv.refY,.3333333333333333)-16},e.Hsluv.lToY=function(t){return t<=8?e.Hsluv.refY*t/e.Hsluv.kappa:e.Hsluv.refY*Math.pow((t+16)/116,3)},e.Hsluv.xyzToLuv=function(t){var r=t[0],n=t[1],u=r+15*n+3*t[2],o=4*r,a=9*n;0!=u?(o/=u,a/=u):(o=NaN,a=NaN);var l=e.Hsluv.yToL(n);return 0==l?[0,0,0]:[l,13*l*(o-e.Hsluv.refU),13*l*(a-e.Hsluv.refV)]},e.Hsluv.luvToXyz=function(t){var r=t[0],n=t[1],u=t[2];if(0==r)return[0,0,0];var o=n/(13*r)+e.Hsluv.refU,a=u/(13*r)+e.Hsluv.refV,l=e.Hsluv.lToY(r),i=0-9*l*o/((o-4)*a-o*a);return[i,l,(9*l-15*a*l-a*i)/(3*a)]},e.Hsluv.luvToLch=function(t){var r,e=t[0],n=t[1],u=t[2],o=Math.sqrt(n*n+u*u);o<1e-8?r=0:(r=180*Math.atan2(u,n)/Math.PI)<0&&(r=360+r);return[e,o,r]},e.Hsluv.lchToLuv=function(t){var r=t[0],e=t[1],n=t[2]/360*2*Math.PI;return[r,Math.cos(n)*e,Math.sin(n)*e]},e.Hsluv.hsluvToLch=function(t){var r=t[0],n=t[1],u=t[2];return u>99.9999999?[100,0,r]:u<1e-8?[0,0,r]:[u,e.Hsluv.maxChromaForLH(u,r)/100*n,r]},e.Hsluv.lchToHsluv=function(t){var r=t[0],n=t[1],u=t[2];return r>99.9999999?[u,0,100]:r<1e-8?[u,0,0]:[u,n/e.Hsluv.maxChromaForLH(r,u)*100,r]},e.Hsluv.hpluvToLch=function(t){var r=t[0],n=t[1],u=t[2];return u>99.9999999?[100,0,r]:u<1e-8?[0,0,r]:[u,e.Hsluv.maxSafeChromaForL(u)/100*n,r]},e.Hsluv.lchToHpluv=function(t){var r=t[0],n=t[1],u=t[2];return r>99.9999999?[u,0,100]:r<1e-8?[u,0,0]:[u,n/e.Hsluv.maxSafeChromaForL(r)*100,r]},e.Hsluv.rgbToHex=function(t){for(var r="#",n=0;n<3;){var u=t[n++],o=Math.round(255*u),a=o%16,l=(o-a)/16|0;r+=e.Hsluv.hexChars.charAt(l)+e.Hsluv.hexChars.charAt(a)}return r},e.Hsluv.hexToRgb=function(t){t=t.toLowerCase();for(var r=[],n=0;n<3;){var u=n++,o=16*e.Hsluv.hexChars.indexOf(t.charAt(2*u+1))+e.Hsluv.hexChars.indexOf(t.charAt(2*u+2));r.push(o/255)}return r},e.Hsluv.lchToRgb=function(t){return e.Hsluv.xyzToRgb(e.Hsluv.luvToXyz(e.Hsluv.lchToLuv(t)))},e.Hsluv.rgbToLch=function(t){return e.Hsluv.luvToLch(e.Hsluv.xyzToLuv(e.Hsluv.rgbToXyz(t)))},e.Hsluv.hsluvToRgb=function(t){return e.Hsluv.lchToRgb(e.Hsluv.hsluvToLch(t))},e.Hsluv.rgbToHsluv=function(t){return e.Hsluv.lchToHsluv(e.Hsluv.rgbToLch(t))},e.Hsluv.hpluvToRgb=function(t){return e.Hsluv.lchToRgb(e.Hsluv.hpluvToLch(t))},e.Hsluv.rgbToHpluv=function(t){return e.Hsluv.lchToHpluv(e.Hsluv.rgbToLch(t))},e.Hsluv.hsluvToHex=function(t){return e.Hsluv.rgbToHex(e.Hsluv.hsluvToRgb(t))},e.Hsluv.hpluvToHex=function(t){return e.Hsluv.rgbToHex(e.Hsluv.hpluvToRgb(t))},e.Hsluv.hexToHsluv=function(t){return e.Hsluv.rgbToHsluv(e.Hsluv.hexToRgb(t))},e.Hsluv.hexToHpluv=function(t){return e.Hsluv.rgbToHpluv(e.Hsluv.hexToRgb(t))},e.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],e.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],e.Hsluv.refY=1,e.Hsluv.refU=.19783000664283,e.Hsluv.refV=.46831999493879,e.Hsluv.kappa=903.2962962,e.Hsluv.epsilon=.0088564516,e.Hsluv.hexChars="0123456789abcdef";var n={hsluvToRgb:e.Hsluv.hsluvToRgb,rgbToHsluv:e.Hsluv.rgbToHsluv,hpluvToRgb:e.Hsluv.hpluvToRgb,rgbToHpluv:e.Hsluv.rgbToHpluv,hsluvToHex:e.Hsluv.hsluvToHex,hexToHsluv:e.Hsluv.hexToHsluv,hpluvToHex:e.Hsluv.hpluvToHex,hexToHpluv:e.Hsluv.hexToHpluv,lchToHpluv:e.Hsluv.lchToHpluv,hpluvToLch:e.Hsluv.hpluvToLch,lchToHsluv:e.Hsluv.lchToHsluv,hsluvToLch:e.Hsluv.hsluvToLch,lchToLuv:e.Hsluv.lchToLuv,luvToLch:e.Hsluv.luvToLch,xyzToLuv:e.Hsluv.xyzToLuv,luvToXyz:e.Hsluv.luvToXyz,xyzToRgb:e.Hsluv.xyzToRgb,rgbToXyz:e.Hsluv.rgbToXyz,lchToRgb:e.Hsluv.lchToRgb,rgbToLch:e.Hsluv.rgbToLch};t.exports=n},function(t,r,e){"use strict";function n(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function u(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function o(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?u(Object(e),!0).forEach((function(r){n(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}e.r(r);var a=function(t){for(var r=new Uint8ClampedArray(4*t.data.length),e=0;e<t.data.length;e++)r[4*e+0]=255*t.data[e][0],r[4*e+1]=255*t.data[e][1],r[4*e+2]=255*t.data[e][2],r[4*e+3]=255;return new ImageData(r,t.width,t.height)},l=function(t,r){for(var e=new Array(t.data.length),n=0;n<e.length;n++)e[n]=r(t.data[n]);return o(o({},t),{},{data:e})};function i(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function s(t,r){if(t){if("string"===typeof t)return i(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,r):void 0}}function v(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,u=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(i){u=!0,o=i}finally{try{n||null==l.return||l.return()}finally{if(u)throw o}}return e}}(t,r)||s(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,r){return(c=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,r,e){return(h=f()?Reflect.construct:function(t,r,e){var n=[null];n.push.apply(n,r);var u=new(Function.bind.apply(t,n));return e&&c(u,e.prototype),u}).apply(null,arguments)}function p(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=Symbol("Comlink.proxy"),y=Symbol("Comlink.endpoint"),d=Symbol("Comlink.releaseProxy"),g=Symbol("Comlink.thrown"),b=function(t){return"object"===typeof t&&null!==t||"function"===typeof t},m=new Map([["proxy",{canHandle:function(t){return b(t)&&t[H]},serialize:function(t){var r=new MessageChannel,e=r.port1,n=r.port2;return T(t,e),[n,[n]]},deserialize:function(t){return t.start(),L(t,[],r);var r}}],["throw",{canHandle:function(t){return b(t)&&g in t},serialize:function(t){var r=t.value;return[r instanceof Error?{isError:!0,value:{message:r.message,name:r.name,stack:r.stack}}:{isError:!1,value:r},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function T(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;r.addEventListener("message",(function e(u){if(u&&u.data){var o,a=Object.assign({path:[]},u.data),l=a.id,i=a.type,s=a.path,c=(u.data.argumentList||[]).map(R);try{var f=s.slice(0,-1).reduce((function(t,r){return t[r]}),t),H=s.reduce((function(t,r){return t[r]}),t);switch(i){case 0:o=H;break;case 1:f[s.slice(-1)[0]]=R(u.data.value),o=!0;break;case 2:o=H.apply(f,c);break;case 3:var y;o=S(h(H,p(c)));break;case 4:var d=new MessageChannel,b=d.port1,m=d.port2;T(t,m),o=j(b,[b]);break;case 5:o=void 0}}catch(y){o=n({value:y},g,0)}Promise.resolve(o).catch((function(t){return n({value:t},g,0)})).then((function(t){var n=v(P(t),2),u=n[0],o=n[1];r.postMessage(Object.assign(Object.assign({},u),{id:l}),o),5===i&&(r.removeEventListener("message",e),x(r))}))}})),r.start&&r.start()}function x(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function w(t){if(t)throw new Error("Proxy has been released and is not useable")}function L(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=!1,u=new Proxy(e,{get:function(e,o){if(w(n),o===d)return function(){return A(t,{type:5,path:r.map((function(t){return t.toString()}))}).then((function(){x(t),n=!0}))};if("then"===o){if(0===r.length)return{then:function(){return u}};var a=A(t,{type:0,path:r.map((function(t){return t.toString()}))}).then(R);return a.then.bind(a)}return L(t,[].concat(p(r),[o]))},set:function(e,u,o){w(n);var a=v(P(o),2),l=a[0],i=a[1];return A(t,{type:1,path:[].concat(p(r),[u]).map((function(t){return t.toString()})),value:l},i).then(R)},apply:function(e,u,o){w(n);var a=r[r.length-1];if(a===y)return A(t,{type:4}).then(R);if("bind"===a)return L(t,r.slice(0,-1));var l=v(O(o),2),i=l[0],s=l[1];return A(t,{type:2,path:r.map((function(t){return t.toString()})),argumentList:i},s).then(R)},construct:function(e,u){w(n);var o=v(O(u),2),a=o[0],l=o[1];return A(t,{type:3,path:r.map((function(t){return t.toString()})),argumentList:a},l).then(R)}});return u}function O(t){var r,e=t.map(P);return[e.map((function(t){return t[0]})),(r=e.map((function(t){return t[1]})),Array.prototype.concat.apply([],r))]}var M=new WeakMap;function j(t,r){return M.set(t,r),t}function S(t){return Object.assign(t,n({},H,!0))}function P(t){var r,e=function(t,r){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=s(t))||r&&t&&"number"===typeof t.length){e&&(t=e);var n=0,u=function(){};return{s:u,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(l)throw o}}}}(m);try{for(e.s();!(r=e.n()).done;){var n=v(r.value,2),u=n[0],o=n[1];if(o.canHandle(t)){var a=v(o.serialize(t),2);return[{type:3,name:u,value:a[0]},a[1]]}}}catch(l){e.e(l)}finally{e.f()}return[{type:0,value:t},M.get(t)||[]]}function R(t){switch(t.type){case 3:return m.get(t.name).deserialize(t.value);case 0:return t.value}}function A(t,r,e){return new Promise((function(n){var u=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function r(e){e.data&&e.data.id&&e.data.id===u&&(t.removeEventListener("message",r),n(e.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:u},r),e)}))}var z=e(0);T({processImage:function(t,r,e,n,u,i){var s=function(t){for(var r=new Array(t.data.length/4),e=0;e<r.length;e++)r[e]=[t.data[4*e+0]/255,t.data[4*e+1]/255,t.data[4*e+2]/255];return{data:r,width:t.width,height:t.height}}(t),v=l(s,z.rgbToLch);i(function(t,r){for(var e=new Array(r).fill(0),n=0;n<t.data.length;n++){var u=Math.round(t.data[n][2]/360*(r-1)),o=t.data[n][1];e[u]+=o}return e}(v,r)),e(a(function(t){for(var r=new Array(t.data.length),e=0,n=0;n<r.length;n++)e=Math.max(e,t.data[n][1]);for(var u=0;u<r.length;u++)r[u]=[t.data[u][1]/e,t.data[u][1]/e,t.data[u][1]/e];return o(o({},t),{},{data:r})}(v))),u(a(function(t){for(var r=new Array(t.data.length),e=0,n=0;n<r.length;n++)e=Math.max(e,t.data[n][1]);for(var u=0;u<r.length;u++)r[u]=[65,t.data[u][1],t.data[u][2]];return l(o(o({},t),{},{data:r}),z.lchToRgb)}(v)));var c=l(v,z.lchToHsluv);n(a(function(t){for(var r=new Array(t.data.length),e=0;e<r.length;e++)r[e]=[t.data[e][0],100,50];return l(o(o({},t),{},{data:r}),z.hsluvToRgb)}(c)))}})}]);
//# sourceMappingURL=worker.0c31f24e.worker.js.map